<?php
session_start();

$displaylogin = true;
if(isset($_SESSION['loggedin']) && $_SESSION['loggedin'] == true){
    $welcomemsg = "Hi, " . $_SESSION['username'] . "!";
    $displaylogin = false;
}

?>

    <div id="cerc-sageatatlf" onclick="expandMenu()">
        <div id="bkg-sageata"></div>
        <div class="logo-elem-tlf" id="sageata-meniutlf">
            <img src="pictures/1sageataUTE.png" alt="logo arrow">
        </div>
        <div class="logo-elem-tlf" id="town-TOP">
            <img src="pictures/1townUTE.png" style="z-index: 102;" alt="logo town">
        </div>
        <div class="logo-elem-tlf" id="cothon-TOP">
            <img src="pictures/1cothonUTE.png" style="z-index: 102;" alt="logo cothon">
        </div>
    </div>

    <div id="pages">
        <div class="back" onclick="contractMenu()">
            <img src="icons/arrow-left.svg" alt=" ">
            <div>Back</div>
        </div>
        <ul>
            <div class="line" style="margin-top:-5%"></div>
            <li>
                <a href="home.php">
                    Home
                </a>
            </li>
            <div class="line"></div>
            <li onclick="appearlogin()">
                <a href="#">
                    Account
                </a>
            </li>
            <div class="line"></div>
            <li style="z-index: 104;">
                <a href="info.php">
                    Info
                </a>
            </li>
            <div class="line"></div>
            <li>
                <a href="aboutus.php">
                    About Us
                </a>
            </li>
            <div class="line"></div>
            <li>
                <a href="#">
                    Got A Problem?
                </a>
            </li>
            <div class="line"></div>
            <li>
                <a href="event.php">
                    Event
                </a>
            </li>
            <div class="line"></div>
            <li>
                <a href="#">
                    Our Sponsors
                </a>
            </li>
        </ul>
    </div>

    <div id="login-tlf">
        <div class="back" onclick="dissapearlogin()">
            <img src="icons/arrow-left.svg" alt=" ">
            <div>Back</div>
        </div>

        <?php
            if($displaylogin){
                include "elements/signin.html";
                // echo "You are not logged in. <a href='login.php'>Login</a> or <a href='registration.php'>Sign up</a>.";
            }
            else{
                include "elements/signout.html";
                // echo $welcomemsg . " <a href='logout.php'>Logout</a>";
            }
        ?>
    </div>




    <script>
        //vars
        var login = document.getElementById('login-tlf');
        var cerc = document.getElementById('cerc-sageatatlf');
        var sageata = document.getElementById('sageata-meniutlf');
        var list = document.getElementById('pages');
        var logo1 = document.getElementsByClassName("logo-elem-tlf")[1];
        var logo2 = document.getElementsByClassName("logo-elem-tlf")[2];

        // var logoElemBigHeight;
        // var logoElemBigWidth;
        // var logoElemSmallHeight;
        // var logoElemSmallWidth;
        // var logoElemBigLeft;
        // var logoElemBigRight;

        // var cercBigHeight;
        // var cercBigWidth;
        // var cercSmallHeight;
        // var cercSmallWidth;
        // var cercBigLeft;
        // var cercBigRight; 



        // if (window.matchMedia("(orientation: portrait)").matches) {
        //     var logoElemBigHeight=45;
        //     var logoElemBigWidth=90;
        //     var logoElemSmallHeight=21;
        //     var logoElemSmallWidth=42;
        //     var logoElemBigLeft=21;
        //     var logoElemBigTop=17;

        //     var cercBigSize=250;
        //     var cercSmallSize=25;
        //     var cercBigLef=-50;
        //     var cercBigTop=-30; 
        // }

        // if (window.matchMedia("(orientation: landscape)").matches) {
        //     // you're in LANDSCAPE mode
        // }

        // var width = parseFloat(document.getElementById('sageata-meniutlf').style.getPropertyValue('width'));
        // alert(width);

        // function orientation() {
        //     if (window.matchMedia("(orientation: portrait)").matches) {
        //         // you're in PORTRAIT mode
        //         alert("portrait");
        //     }

        //     if (window.matchMedia("(orientation: landscape)").matches) {
        //         // you're in LANDSCAPE mode
        //         alert("landscape");
        //     }
        // }

        var logoElemSmallWidth;
        var logoElemSmallHeight;

        var cercSmallSize;
        var cercBigTop;

        if (window.matchMedia("(orientation: landscape)").matches) {
            // you're in PORTRAIT mode
            // alert("landscape");

            logoElemSmallWidth = 22;
            logoElemSmallHeight = 11;
            sageata.style.width = logoElemSmallWidth + "vw";
            sageata.style.height = logoElemSmallHeight + "vw";
            logo1.style.width = logoElemSmallWidth + "vw";
            logo1.style.height = logoElemSmallHeight + "vw";
            logo2.style.width = logoElemSmallWidth + "vw";
            logo2.style.height = logoElemSmallHeight + "vw";

            cercSmallSize = 13;
            cerc.style.width = cercSmallSize + "vw";
            cerc.style.height = cercSmallSize + "vw";

            cercBigTop = -60;
        } else if (window.matchMedia("(orientation: portrait)").matches) {
            // you're in LANDSCAPE mode
            // alert("portrait");

            logoElemSmallWidth = 42;
            logoElemSmallHeight = 21;
            sageata.style.width = logoElemSmallWidth + "vw";
            sageata.style.height = logoElemSmallHeight + "vw";
            logo1.style.width = logoElemSmallWidth + "vw";
            logo1.style.height = logoElemSmallHeight + "vw";
            logo2.style.width = logoElemSmallWidth + "vw";
            logo2.style.height = logoElemSmallHeight + "vw";

            cercSmallSize = 25;
            cerc.style.width = cercSmallSize + "vw";
            cerc.style.height = cercSmallSize + "vw";
            cercBigTop = -30;
        }

        window.addEventListener("orientationchange", function() {
            if (window.matchMedia("(orientation: portrait)").matches) {
                // you're in LANDSCAPE mode
                // alert("landscape");

                logoElemSmallWidth = 22;
                logoElemSmallHeight = 11;
                sageata.style.width = logoElemSmallWidth + "vw";
                sageata.style.height = logoElemSmallHeight + "vw";
                logo1.style.width = logoElemSmallWidth + "vw";
                logo1.style.height = logoElemSmallHeight + "vw";
                logo2.style.width = logoElemSmallWidth + "vw";
                logo2.style.height = logoElemSmallHeight + "vw";

                cercSmallSize = 13;
                cerc.style.width = cercSmallSize + "vw";
                cerc.style.height = cercSmallSize + "vw";

                cercBigTop = -60;
                if (cerc.style.width > cercSmallSize) {
                    cerc.style.top = cercBigTop + "%";
                }
            } else if (window.matchMedia("(orientation: landscape)").matches) {
                // you're in PORTRAIT mode
                // alert("portrait");

                logoElemSmallWidth = 42;
                logoElemSmallHeight = 21;
                sageata.style.width = logoElemSmallWidth + "vw";
                sageata.style.height = logoElemSmallHeight + "vw";
                logo1.style.width = logoElemSmallWidth + "vw";
                logo1.style.height = logoElemSmallHeight + "vw";
                logo2.style.width = logoElemSmallWidth + "vw";
                logo2.style.height = logoElemSmallHeight + "vw";

                cercSmallSize = 25;
                cerc.style.width = cercSmallSize + "vw";
                cerc.style.height = cercSmallSize + "vw";
                cercBigTop = -30;
                if (cerc.style.width > cercSmallSize) {
                    cerc.style.top = cercBigTop + "%";
                }
            }
        }, false);


        function expandMenu() {
            //pt sageata
            transitions.slide2D(new Dimension(sageata, 21, "percent"),
                new Dimension(sageata, 17, "percent"),
                tweenFunctions.easeOutExpo,
                1500);
            transitions.resize2D(new Dimension(sageata, 90, "vw"),
                new Dimension(sageata, 45, "vw"),
                tweenFunctions.easeOutExpo,
                1500);


            //pt cerc
            transitions.slide2D(new Dimension(cerc, -50, "percent"),
                new Dimension(cerc, cercBigTop, "percent"),
                tweenFunctions.easeOutExpo,
                1500);
            transitions.resize2D(new Dimension(cerc, 250, "vw"),
                new Dimension(cerc, 250, "vw"),
                tweenFunctions.easeOutExpo,
                1500);


            //pt lista meniului in sine
            transitions.slide2D(new Dimension(list, 0, "percent"),
                new Dimension(list, 0, "percent"),
                tweenFunctions.easeOutExpo,
                1000);


            //pt town si cothon
            transitions.slide2D(new Dimension(logo1, 21, "percent"),
                new Dimension(logo1, 17, "percent"),
                tweenFunctions.easeOutExpo,
                1500);
            transitions.resize2D(new Dimension(logo1, 90, "vw"),
                new Dimension(logo1, 45, "vw"),
                tweenFunctions.easeOutExpo,
                1500);

            transitions.slide2D(new Dimension(logo2, 21, "percent"),
                new Dimension(logo2, 17, "percent"),
                tweenFunctions.easeOutExpo,
                1500);
            transitions.resize2D(new Dimension(logo2, 90, "vw"),
                new Dimension(logo2, 45, "vw"),
                tweenFunctions.easeOutExpo,
                1500);

            cerc.setAttribute("onclick", "contractMenu(this);");
        }

        function contractMenu() {

            //pt sageata
            transitions.slide2D(new Dimension(sageata, 15.5, "percent"),
                new Dimension(sageata, 0, "percent"),
                tweenFunctions.easeInQuad,
                1000);
            transitions.resize2D(new Dimension(sageata, logoElemSmallWidth, "vw"),
                new Dimension(sageata, logoElemSmallHeight, "vw"),
                tweenFunctions.easeInQuad,
                1000);


            //pt cerc
            transitions.slide2D(new Dimension(cerc, 2, "percent"),
                new Dimension(cerc, 1, "percent"),
                tweenFunctions.easeInQuad,
                900);
            transitions.resize2D(new Dimension(cerc, cercSmallSize, "vw"),
                new Dimension(sageata, cercSmallSize, "vw"),
                tweenFunctions.easeInQuad,
                900);


            //pt lista meniului in sine
            transitions.slide2D(new Dimension(list, -100, "percent"),
                new Dimension(list, 0, "percent"),
                tweenFunctions.easeOutQuad,
                700);


            //pt town si cothon
            transitions.slide2D(new Dimension(logo1, -170, "percent"),
                new Dimension(logo1, 0, "percent"),
                tweenFunctions.easeOutQuad,
                1000);
            transitions.resize2D(new Dimension(logo1, logoElemSmallWidth, "vw"),
                new Dimension(logo1, logoElemSmallHeight, "vw"),
                tweenFunctions.easeOutQuad,
                1000);

            transitions.slide2D(new Dimension(logo2, -170, "percent"),
                new Dimension(logo2, 0, "percent"),
                tweenFunctions.easeOutQuad,
                1000);
            transitions.resize2D(new Dimension(logo2, logoElemSmallWidth, "vw"),
                new Dimension(logo2, logoElemSmallHeight, "vw"),
                tweenFunctions.easeOutQuad,
                1000);

            cerc.setAttribute("onclick", "expandMenu(this);");
        }

        function appearlogin() {

            //pt lista meniului in sine
            transitions.slide2D(new Dimension(list, -100, "percent"),
                new Dimension(list, 0, "percent"),
                tweenFunctions.easeOutQuad,
                600);

            //pt login
            transitions.slide2D(new Dimension(login, 0, "percent"),
                new Dimension(login, 0, "percent"),
                tweenFunctions.easeInQuad,
                600);
        }

        function dissapearlogin() {

            //pt login
            transitions.slide2D(new Dimension(login, -100, "percent"),
                new Dimension(login, 0, "percent"),
                tweenFunctions.easeOutQuad,
                600);

            //pt lista meniului in sine
            transitions.slide2D(new Dimension(list, 0, "percent"),
                new Dimension(list, 0, "percent"),
                tweenFunctions.easeInQuad,
                600);
        }
    </script>