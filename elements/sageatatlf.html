<?php
session_start();

$displaylogin = true;
if(isset($_SESSION['loggedin']) && $_SESSION['loggedin'] == true){
    $welcomemsg = "Hi, " . $_SESSION['username'] . "!";
    $displaylogin = false;
}

?>

    <div id="cerc-sageatatlf" onclick="expandMenu()">
        <div class="logo-elem-tlf" id="sageata-meniutlf">
            <img src="pictures/1sageataUTE.png" alt="logo arrow" style="z-index: 2000;">
            <!-- <div id="bkg-sageata" style="position: absolute; top: 1%; background-color: white; width: 99%; height: 99%; z-index: 103; left: -75%;"></div> -->
        </div>
        <div class="logo-elem-tlf" id="town-TOP">
            <img src="pictures/1townUTE.png" style="z-index: 102;" alt="logo town">
        </div>
        <div class="logo-elem-tlf" id="cothon-TOP">
            <img src="pictures/1cothonUTE.png" style="z-index: 102;" alt="logo cothon">
        </div>
    </div>

    <div id="pages">
        <div class="back" onclick="contractMenu()">
            <img src="icons/arrow-left.svg" alt=" ">
            <div>Back</div>
        </div>
        <ul>
            <div class="line"></div>
            <li>
                <a href="home.php">
                    Home
                </a>
            </li>
            <div class="line"></div>
            <li onclick="appearlogin()">
                <a href="#">
                    Account
                </a>
            </li>
            <div class="line"></div>
            <li style="z-index: 104;">
                <a href="info.php">
                    Info
                </a>
            </li>
            <div class="line"></div>
            <li>
                <a href="aboutus.php">
                    About Us
                </a>
            </li>
            <div class="line"></div>
            <li>
                <a href="#">
                    Got A Problem?
                </a>
            </li>
            <div class="line"></div>
            <li>
                <a href="event.php">
                    Event
                </a>
            </li>
            <div class="line"></div>
            <li>
                <a href="#">
                    Our Sponsors
                </a>
            </li>
        </ul>
    </div>

    <div id="login-tlf">
        <div class="back" onclick="dissapearlogin()">
            <img src="icons/arrow-left.svg" alt=" ">
            <div>Back</div>
        </div>

        <?php
            if($displaylogin){
                include "elements/signin.html";
                // echo "You are not logged in. <a href='login.php'>Login</a> or <a href='registration.php'>Sign up</a>.";
            }
            else{
                include "elements/signout.html";
                // echo $welcomemsg . " <a href='logout.php'>Logout</a>";
            }
        ?>
    </div>




    <script>
        // var fixed = document.getElementsByClassName('fixed');

        // fixed.addEventListener('touchmove', function(e) {
        //     e.preventDefault();
        // }, false);

        //vars
        var login = document.getElementById('login-tlf');
        var cerc = document.getElementById('cerc-sageatatlf');
        var sageata = document.getElementById('sageata-meniutlf');
        var list = document.getElementById('pages');
        var logo1 = document.getElementsByClassName("logo-elem-tlf")[1];
        var logo2 = document.getElementsByClassName("logo-elem-tlf")[2];

        function expandMenu() {
            // slide2DAbsoluteParent: function(elem, func, duration, toX, toY)
            // slide2DPercentageParent: function(elem, func, duration, toX, toY) 
            // resize2DViewport: function(elem, func, toWidth, toHeight, duration)
            // resize2DViewportWidth: function(elem, func, toWidth, toHeight, duration)

            // alert(parseFloat(cerc.style.width));

            //pt sageata
            // transitions.slide2DPercentageParent(sageata, tweenFunctions.easeOutExpo, 1500, 21, 17);
            transitions.slide2D(new Dimension(sageata, 21, "percent"),
                new Dimension(sageata, 17, "percent"),
                tweenFunctions.easeOutExpo,
                1500);
            transitions.resize2DViewportWidth(sageata, tweenFunctions.easeOutExpo, 90, 45, 1500);

            //pt cerc
            // transitions.slide2DPercentageParent(cerc, tweenFunctions.easeOutExpo, 1500, -50, -30);
            transitions.slide2D(new Dimension(cerc, -50, "percent"),
                new Dimension(cerc, -30, "percent"),
                tweenFunctions.easeOutExpo,
                1500);
            transitions.resize2DViewportWidth(cerc, tweenFunctions.easeOutExpo, 250, 250, 1500);

            //pt lista meniului in sine
            // transitions.slide2DPercentageParent(list, tweenFunctions.easeInQuad, 1000, 0, 0);
            transitions.slide2D(new Dimension(list, 0, "percent"),
                new Dimension(list, 0, "percent"),
                tweenFunctions.easeOutExpo,
                1000);

            //pt town si cothon
            // transitions.slide2DPercentageParent(logo1, tweenFunctions.easeOutExpo, 1500, 21, 17);
            transitions.slide2D(new Dimension(logo1, 21, "percent"),
                new Dimension(logo1, 17, "percent"),
                tweenFunctions.easeOutExpo,
                1500);
            transitions.resize2DViewportWidth(logo1, tweenFunctions.easeOutExpo, 90, 45, 1500);

            // transitions.slide2DPercentageParent(logo2, tweenFunctions.easeOutExpo, 1500, 21, 17);
            transitions.slide2D(new Dimension(logo2, 21, "percent"),
                new Dimension(logo2, 17, "percent"),
                tweenFunctions.easeOutExpo,
                1500);
            transitions.resize2DViewportWidth(logo2, tweenFunctions.easeOutExpo, 90, 45, 1500);

            //cerc.setAttribute("onclick", "contractMenu(this);");
        }

        function contractMenu() {

            //pt sageata
            // transitions.slide2DPercentageParent(sageata, tweenFunctions.easeInQuad, 1000, 15.5, 0);
            transitions.slide2D(new Dimension(sageata, 15.5, "percent"),
                new Dimension(sageata, 0, "percent"),
                tweenFunctions.easeInQuad,
                1000);
            // transitions.resize2DViewportWidth(sageata, tweenFunctions.easeInQuad, 42, 21, 1000);
            transitions.resize2D(new Dimension(sageata, 42, "vw"))

            //pt cerc
            // transitions.slide2DPercentageParent(cerc, tweenFunctions.easeInQuad, 1000, 2, 1);
            transitions.slide2D(new Dimension(cerc, 2, "percent"),
                new Dimension(cerc, 1, "percent"),
                tweenFunctions.easeInQuad,
                1000);
            transitions.resize2DViewportWidth(cerc, tweenFunctions.easeInQuad, 25, 25, 1000);

            //pt lista meniului in sine
            // transitions.slide2DPercentageParent(list, tweenFunctions.easeOutQuad, 700, -100, 0);
            transitions.slide2D(new Dimension(list, -100, "percent"),
                new Dimension(list, 0, "percent"),
                tweenFunctions.easeOutQuad,
                700);

            //pt town si cothon
            // transitions.slide2DPercentageParent(logo1, tweenFunctions.easeOutQuad, 1000, -200, 0);
            transitions.slide2D(new Dimension(logo1, -200, "percent"),
                new Dimension(logo1, 0, "percent"),
                tweenFunctions.easeOutQuad,
                1000);
            transitions.resize2DViewportWidth(logo1, tweenFunctions.easeOutQuad, 42, 21, 1000);

            // transitions.slide2DPercentageParent(logo2, tweenFunctions.easeOutQuad, 1000, -200, 0);
            transitions.slide2D(new Dimension(logo2, -200, "percent"),
                new Dimension(logo2, 0, "percent"),
                tweenFunctions.easeOutQuad,
                1000);
            transitions.resize2DViewportWidth(logo2, tweenFunctions.easeOutQuad, 42, 21, 1000);

            //cerc.setAttribute("onclick", "expandMenu(this);");
        }

        function appearlogin() {

            //pt lista meniului in sine
            // transitions.slide2DPercentageParent(list, tweenFunctions.easeOutQuad, 600, -100, 0);
            transitions.slide2D(new Dimension(list, -100, "percent"),
                new Dimension(list, 0, "percent"),
                tweenFunctions.easeOutQuad,
                600);

            //pt login
            // transitions.slide2DPercentageParent(login, tweenFunctions.easeInQuad, 600, 0, 0);
            transitions.slide2D(new Dimension(login, -100, "percent"),
                new Dimension(login, 0, "percent"),
                tweenFunctions.easeOutQuad,
                600);
        }

        function dissapearlogin() {

            //pt login
            // transitions.slide2DPercentageParent(login, tweenFunctions.easeOutQuad, 600, -100, 0);
            transitions.slide2D(new Dimension(login, -100, "percent"),
                new Dimension(login, 0, "percent"),
                tweenFunctions.easeOutQuad,
                600);

            //pt lista meniului in sine
            transitions.slide2DPercentageParent(list, tweenFunctions.easeInQuad, 600, 0, 0);
            transitions.slide2D(new Dimension(list, 0, "percent"),
                new Dimension(list, 0, "percent"),
                tweenFunctions.easeOutQuad,
                600);
        }
    </script>